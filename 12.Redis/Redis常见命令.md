# Redis常见命令

## 一、库命令

### 1.切换库

`select 库编号`

![1657972886399](assets/1657972886399.png)

### 2.清空库

`flushdb`

![1657972984730](assets/1657972984730.png)

## 二、键命令

### 1.查询键

`keys 通配符`

![1657973039349](assets/1657973039349.png)

### 2.随机返回键

`randomkey`

![1657973067060](assets/1657973067060.png)

### 3.是否存在键

`exists 键`

![1657973084111](assets/1657973084111.png)

### 4.键类型

`type 键`

![1657973138570](assets/1657973138570.png)

### 5.删除键

`del 键1 键2`

![1657973173329](assets/1657973173329.png)

### 6.重命名键

`rename 旧键名 新键名`

![1657973269445](assets/1657973269445.png)

### 7.不存在的键重命名

`renamenx 旧键名 新键名`

### 8.将数据移到另一个库

`move 键 库编号`

![1657973375446](assets/1657973375446.png)

### 9.查看键有效期

`ttl 键`

![1657973460652](assets/1657973460652.png)

### 10.设置键过期时间

`expire 键 时间(s)`

![1657973572410](assets/1657973572410.png)

### 11.键持久化

`persist 键`

## 三、值命令

### 1.String操作

添加键值：`set 键 值 [ex 秒数]/[px 毫秒数]`

![1657973643375](assets/1657973643375.png)

批量添加键值：`mset 键1 值1 键2 值2`

![1657973882794](assets/1657973882794.png)

指定开始位置设置值：`setrange 键 开始索引 值`

![1657973954773](assets/1657973954773.png)

值后追加：`append 键 值`

![1657974031135](assets/1657974031135.png)

获取值：`get 键`

![1657974127247](assets/1657974127247.png)

批量获取值：`mget 键1 键2`

![1657974218256](assets/1657974218256.png)

指定开始结束位置获取值：`getrange 键 开始索引 结束索引`

![1657974360949](assets/1657974360949.png)

先获取再设置：`getset 旧键 新键`

![1657974411220](assets/1657974411220.png)

自增：`incr 键`

![1657974536705](assets/1657974536705.png)

![1657974574226](assets/1657974574226.png)

设置自增数：`incrby 键 数`

![1657974625979](assets/1657974625979.png)

设置浮点自增数：`incrbyfloat 键 浮点数`

![1657974662020](assets/1657974662020.png)

自减：`decr 键`

![1657974762255](assets/1657974762255.png)

设置自减数：`decrby 键 数`

![1657974818935](assets/1657974818935.png)

值长度：`strlen 键`

![1657974856559](assets/1657974856559.png)

### 2.二进制位操作

`setbit 键 偏移量 值`

![1657974900446](assets/1657974900446.png)

`getbit 键 偏移量`

![1657974945478](assets/1657974945478.png)

### 3.List操作

![1657974977383](assets/1657974977383.png)

左进：`lpush 键 值`

![1657975017546](assets/1657975017546.png)

右进：`rpush 键 值`

![1657975074226](assets/1657975074226.png)

从左往右在范围内取：`lrange 键 开始索引 结束索引`

![1657975131116](assets/1657975131116.png)

左出：`lpop 键`

![1657975187379](assets/1657975187379.png)

右出：`rpop 键`

![1657975226614](assets/1657975226614.png)

左开始删除指定数量的值：`lrem 键 数量 值`

![1657975280880](assets/1657975280880.png)

切指定范围内的值重新赋值给键：`ltrim 键 开始索引 结束索引`

![1657975333204](assets/1657975333204.png)

指定索引上的值：`lindex 键 index`

![1657975377467](assets/1657975377467.png)

键长度：`llen 键`

![1657975428025](assets/1657975428025.png)

值后/前插入值：`linsert 键 after|before 值 插入值`

![1657975465903](assets/1657975465903.png)

### 4.Set操作

Set无序且唯一，最多存2^32-1

添加：`asdd 键 值1 值2`

![1657975789287](assets/1657975789287.png)

删除：`srem 值1 值2`

![1657975812352](assets/1657975812352.png)

无放回随机取值(删除)：`spop 键`

![1657975840693](assets/1657975840693.png)

有放回随机取值(不删除)：`srandmember 键`

![1657975899699](assets/1657975899699.png)

查所有：`smenbers 键`

![1657975933403](assets/1657975933403.png)

判断键中是否有对应的值：`sismember 键 值`

![1657975982736](assets/1657975982736.png)

长度：`scard 键`

![1657976020322](assets/1657976020322.png)

将值从键中移动到目标键：`smove 键 目标键 值`

![1657976054325](assets/1657976054325.png)

交集：`sinter 键1 键2`

![1657976087033](assets/1657976087033.png)

求出的交集赋值给新键：`sinterstore 新键 键1 键2`

![1657976104494](assets/1657976104494.png)

并集：`sunion 键1 键2`

![1657976136048](assets/1657976136048.png)

差集：`sdiff 键1 键2`

![1657976177105](assets/1657976177105.png)

### 5.ZSet操作

ZSet有序且唯一，增加排序列

添加：`zadd 键 数1 值1 数2 值2`

![1657976660154](assets/1657976660154.png)

根据值删除：`zrem 键 值1 值2`

![1657976693185](assets/1657976693185.png)

根据数范围删：`zremrangebyscore 键 最小值 最大值`

![1657976728889](assets/1657976728889.png)

根据索引范围删：`zremrangebyrank 键 开始索引 结束索引`

![1657976786011](assets/1657976786011.png)

查询对应键内值的索引：`zrank 键 值`

![1657976814451](assets/1657976814451.png)

反向查询对应键内值的索引：`zrevrank 键 值`

![1657976844891](assets/1657976844891.png)

查询范围内值[和数]：`zrange 键 开始索引 结束索引 [withscores]`

![1657976869153](assets/1657976869153.png)

反向查询范围内值：`zrevrange 键 开始索引 结束索引`

![1657976906264](assets/1657976906264.png)

长度：`zcard 键`

![1657976950784](assets/1657976950784.png)

同级范围内值个数：`zcount 键 最小值 最大值`

![1657976967850](assets/1657976967850.png)

### 6.Hash操作

添加：`hset 键 属性 值`

![1657976988089](assets/1657976988089.png)

批量添加：`hmset 键 属性1 值1 属性2 值2`

![1657977019235](assets/1657977019235.png)

获取值：`hget 键 属性`

![1657977051003](assets/1657977051003.png)

批量获取值：`hmget 键 属性1 属性2`

![1657977145093](assets/1657977145093.png)

获取所有值：`hgetall 键`

![1657977187562](assets/1657977187562.png)

删除：`hdel 键 属性`

![1657977210496](assets/1657977210496.png)

存在：`hexists 键 属性`

![1657977223292](assets/1657977223292.png)

递增：`hincrby 键 属性 值`

![1657977237018](assets/1657977237018.png)

浮点递增：`hincrbyfloat 键 属性 值`

![1657977280662](assets/1657977280662.png)

获取所有键：`hkeys 键`

![1657977307931](assets/1657977307931.png)

获取所有值：`hvals 键`

![1657977334717](assets/1657977334717.png)





