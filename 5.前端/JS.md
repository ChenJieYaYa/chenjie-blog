# JavaScript

## ä¸€ã€ä»€ä¹ˆæ˜¯JavaScriptï¼Ÿ

[JavaScript](https://developer.mozilla.org/zh-CN/docs/Learn/Getting_started_with_the_web)æ˜¯**è„šæœ¬è¯­è¨€**ï¼Œå¯ä»¥**åœ¨ç½‘é¡µä¸Šå®ç°å¤æ‚çš„åŠŸèƒ½**ï¼Œç½‘é¡µå±•ç°çš„ä¸å†æ˜¯ç®€å•çš„é™æ€ä¿¡æ¯ï¼Œè€Œæ˜¯å®æ—¶çš„ã€äº¤äº’å¼çš„ã€2D/3Dã€æ»šåŠ¨çš„å†…å®¹ç­‰ç­‰

|                             æŠ€æœ¯                             |      è¯­è¨€      |             ä½œç”¨             |
| :----------------------------------------------------------: | :------------: | :--------------------------: |
| [HTML](https://developer.mozilla.org/zh-CN/docs/Glossary/HTML) | è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ | ç»“æ„åŒ–ç½‘é¡µå†…å®¹å¹¶èµ‹äºˆå†…å®¹å«ä¹‰ |
| [CSS](https://developer.mozilla.org/zh-CN/docs/Glossary/CSS) |  æ ·å¼è§„åˆ™è¯­è¨€  |        ä¸ºHTMLè®¾ç½®å¤–è§‚        |
| [JavaScript](https://developer.mozilla.org/zh-CN/docs/Glossary/JavaScript) |    è„šæœ¬è¯­è¨€    |             äº¤äº’             |

JavaScriptæ˜¯è·¨å¹³å°çš„ã€åŸºäºå¯¹è±¡çš„ã€å¼±ç±»å‹çš„ã€åŸºäºäº‹ä»¶é©±åŠ¨çš„è„šæœ¬è¯­è¨€

> å¼±ç±»å‹ï¼šå£°æ˜æ•°æ®æ—¶ï¼Œä¸æ˜ç¡®æ•°æ®ç±»å‹ï¼Œä½†ä¸æ˜¯ä¸å£°æ˜æ•°æ®ç±»å‹

## äºŒã€XX vs YY

### 1.è§£é‡Šä»£ç  vs ç¼–è¯‘ä»£ç 

è§£é‡Šå‹è¯­è¨€æŒ‡é€šè¿‡è§£é‡Šå™¨é€è¡Œå°†æºä»£ç è§£é‡Šæˆæœºå™¨ç åè¿è¡Œï¼Œæ‰€ä»¥**è§£é‡Šå‹è¯­è¨€æ˜¯ä»£ç è‡ªä¸Šè€Œä¸‹ï¼Œä¸”å®æ—¶è¿”å›ç»“æœ**ï¼Œä»£ç åœ¨ç”±æµè§ˆå™¨æ‰§è¡Œå‰ï¼Œä¸éœ€è¦å°†å…¶è½¬åŒ–ä¸ºå…¶ä»–å½¢å¼ï¼Œ**ç›´æ¥ä»¥æ–‡æœ¬æ ¼å¼è¢«æ¥æ”¶å’Œå¤„ç†**

ç¼–è¯‘å‹è¯­è¨€æŒ‡é€šè¿‡ç¼–è¯‘å™¨ä¸€æ¬¡å°†ä»£ç ç¼–è¯‘æˆæœºå™¨ç åè¿è¡Œï¼Œæ¯”å¦‚C/C++å…ˆè¢«ç¼–è¯‘æˆæ±‡ç¼–è¯­è¨€ï¼Œç„¶åæ‰èƒ½ç”±è®¡ç®—æœºè¿è¡Œ

**JavaScriptæ˜¯è½»é‡çº§è§£é‡Šå‹è¯­è¨€**ï¼Œå‡ ä¹æ‰€æœ‰JavaScriptè½¬æ¢å™¨éƒ½è¿ç”¨**å³æ—¶ç¼–è¯‘æŠ€æœ¯**ï¼›å½“JavaScriptæºä»£ç è¢«æ‰§è¡Œæ—¶ä¼šè¢«ç¼–è¯‘æˆäºŒè¿›åˆ¶çš„æ ¼å¼ï¼Œä½¿ä»£ç è¿è¡Œé€Ÿåº¦æ›´å¿«ï¼Œå°½ç®¡å¦‚æ­¤JavaScriptä»ç„¶æ˜¯è§£é‡Šå‹è¯­è¨€ï¼Œå› ä¸ºç¼–è¯‘è¿‡ç¨‹å‘ç”Ÿåœ¨ä»£ç è¿è¡Œä¸­ï¼Œè€Œéä¹‹å‰

### 2.æœåŠ¡å™¨ç«¯ä»£ç  vs å®¢æˆ·ç«¯ä»£ç 

å®¢æˆ·ç«¯ä»£ç åœ¨ç”¨æˆ·çš„ç”µè„‘ä¸Šè¿è¡Œï¼Œåœ¨æµè§ˆç½‘é¡µæ—¶å…¶å®¢æˆ·ç«¯ä»£ç å°±ä¼šè¢«ä¸‹è½½ï¼Œç„¶åç”±æµè§ˆå™¨æ¥è¿è¡Œå¹¶å±•ç¤º

æœåŠ¡å™¨ç«¯ä»£ç åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œï¼Œæ¥ç€è¿è¡Œç»“æœæ‰ç”±æµè§ˆå™¨ä¸‹è½½å¹¶å±•ç¤ºå‡ºæ¥

JavaScriptä¹Ÿå¯ç”¨ä½œæœåŠ¡å™¨ç«¯è¯­è¨€ï¼Œæ¯”å¦‚ç°åœ¨æµè¡Œçš„Node.jsç¯å¢ƒï¼Œä¹Ÿå¯ä»¥ç”¨ä½œå®¢æˆ·ç«¯è¯­è¨€

### 3.åŠ¨æ€ä»£ç  vs é™æ€ä»£ç 

åŠ¨æ€ä»£ç æŒ‡é€šè¿‡æŒ‰éœ€ç”Ÿæˆæ–°å†…å®¹æ¥æ›´æ–°webé¡µé¢/åº”ç”¨ï¼Œä½¿å¾—ä¸åŒç¯å¢ƒä¸‹æ˜¾ç¤ºä¸åŒå†…å®¹

* æœåŠ¡å™¨ç«¯ä»£ç ä¼šåœ¨æœåŠ¡å™¨ä¸ŠåŠ¨æ€ç”Ÿæˆæ–°å†…å®¹ï¼Œä¾‹å¦‚ä»æ•°æ®åº“ä¸­æå–ä¿¡æ¯
* å®¢æˆ·ç«¯ä»£ç ä¼šåœ¨ç”¨æˆ·ç«¯æµè§ˆå™¨ä¸­åŠ¨æ€ç”Ÿæˆæ–°å†…å®¹ï¼Œæ¯”å¦‚è¯´åˆ›å»ºä¸€ä¸ªæ–°çš„HTMLè¡¨æ ¼ï¼Œç”¨ä»æœåŠ¡å™¨è¯·æ±‚åˆ°çš„æ•°æ®å¡«å……ï¼Œç„¶ååœ¨ç½‘é¡µä¸­å‘ç”¨æˆ·å±•ç¤ºè¿™ä¸ªè¡¨æ ¼

é™æ€ä»£ç æŒ‡æ²¡æœ‰åŠ¨æ€æ›´æ–°å†…å®¹çš„ç½‘é¡µï¼Œæ‰€æ˜¾ç¤ºçš„å†…å®¹ä¸ä¼šæ”¹å˜

## ä¸‰ã€JavaScript&Java

|    è¯­è¨€    | è§£é‡Š/ç¼–è¯‘ç±»å‹ |     è¯­è¨€     | å¼º/å¼±ç±»å‹ |   æœ€å¤§   |                         æ˜¯å¦éœ€è¦ç¼–è¯‘                         |   å…¬å¸   |
| :--------: | :-----------: | :----------: | :-------: | :------: | :----------------------------------------------------------: | :------: |
| JavaScript |    è§£é‡Šå‹     |   è„šæœ¬è¯­è¨€   |  å¼±ç±»å‹   | å‡½æ•°æœ€å¤§ | æºä»£ç ä¼ é€’ç»™å®¢æˆ·ç«¯å‰æ— éœ€ç¼–è¯‘ï¼Œæºä»£ç ä»¥æ–‡æœ¬æ ¼å¼çš„å­—ç¬¦ä»£ç å‘é€ç»™å®¢æˆ·ï¼Œç”±æµè§ˆå™¨è§£é‡Šæ‰§è¡Œ | Netscape |
|    Java    |    ç¼–è¯‘å‹     | é¢å‘å¯¹è±¡è¯­è¨€ |  å¼ºç±»å‹   |  ç±»æœ€å¤§  | æºä»£ç ä¼ é€’ç»™å®¢æˆ·ç«¯å‰éœ€ç¼–è¯‘ï¼Œå®¢æˆ·ç«¯ä¸Šå¿…é¡»å…·æœ‰ç›¸åº”å¹³å°ä¸Šçš„ä»¿çœŸå™¨æˆ–è§£é‡Šå™¨ |   SUN    |

## å››ã€æµè§ˆå™¨åŠ è½½é¡ºåº

`HTMLè§£æå®Œæ¯• â†’ æ ·å¼åŠ è½½å®Œæ¯• â†’ JSè„šæœ¬åœ¨æ–‡æ¡£å†…è§£æå¹¶æ‰§è¡Œ â†’ HTMLDOMå®Œå…¨æ„é€ èµ·æ¥ â†’ å›¾ç‰‡å’Œå¤–éƒ¨å†…å®¹åŠ è½½ â†’ ç½‘é¡µå®ŒæˆåŠ è½½`

> ç½‘é¡µä»ä¸Šåˆ°ä¸‹è§£æï¼Œè‹¥å…ˆåŠ è½½JSå¯èƒ½å­˜åœ¨JSæ–‡ä»¶åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œå¯¼è‡´é¡µé¢ç™½æ¿é—®é¢˜ï¼Œä¸ºé˜²æ­¢ç™½æ¿ï¼Œæœ€å¥½å°†JSæ”¾åœ¨æœ€åï¼›åŒæ ·ï¼Œä¸ºé˜²æ­¢HTMLèµ¤è£¸çš„æš´éœ²ï¼ŒCSSæ”¾åœ¨æœ€å‰é¢

## äº”ã€JavaScriptåµŒå…¥ç½‘é¡µ

### 1.å†…éƒ¨JavaScript

```javascript
<script>
  	//åœ¨æ­¤ç¼–å†™ JavaScript ä»£ç 
	alert("Hello,World!");
</script>
```

### 2.å¤–éƒ¨JavaScript

```javascript
//main.jsæ˜¯å¤–éƒ¨jsï¼Œæ­¤å¤„scriptæ ‡ç­¾å†…ä¸èƒ½å†™JSé€»è¾‘
<script src="main.js"></script>
```

### 3.å†…è”JavaScript

åœ¨HTMLä¸­å­˜åœ¨ç€JavaScriptä»£ç ï¼Œå³ä¸ºå†…è”JavaScriptï¼Œ**ä½†è¯·ä¸è¦è¿™æ ·åšï¼ï¼**è¿™æ ·å¯¼è‡´JavaScriptæ±¡æŸ“åˆ°HTMLï¼Œè€Œä¸”æ•ˆç‡ä½ä¸‹

```javascript
<button onclick="createParagraph()">ç‚¹æˆ‘å‘€</button>

//<a href="javascript:clickShow('home') "></a>
```

```javascript
function createParagraph() {
  const para = document.createElement('p');
  para.textContent = 'ä½ ç‚¹å‡»äº†è¿™ä¸ªæŒ‰é’®ï¼';
  document.body.appendChild(para);
}
```

ä»¥ä¸Šä»£ç å¯ç›´æ¥é€šè¿‡å¤–éƒ¨`js`å¯¹æ‰€æœ‰æŒ‰é’®æ·»åŠ `click`äº‹ä»¶

```javascript
const buttons = document.querySelectorAll('button');

for(let i = 0; i < buttons.length ; i++) {
  buttons[i].addEventListener('click', createParagraph);
}
```

## å…­ã€JavaScriptçš„è¾“å‡º

### 1.é¡µé¢è¾“å‡º

å¦‚ä½•ä½¿ç”¨JavaScriptå‘é¡µé¢è¾“å‡ºä¸€å¥è¯ï¼Œè¯·å‚è€ƒä»¥ä¸‹ä»£ç 

```javascript
<script>
    document.write("Hello,World!");
</script>
```

### 2.æ§åˆ¶å°è¾“å‡º

å¦‚ä½•ä½¿ç”¨JavaScriptå‘æ§åˆ¶å°è¾“å‡ºä¸€å¥è¯ï¼Œè¯·å‚è€ƒä»¥ä¸‹ä»£ç 

```javascript
<script>
    console.log("è¾“å‡ºä¸€æ¡æ—¥å¿—");//æœ€å¸¸ç”¨
    console.info("è¾“å‡ºä¸€æ¡ä¿¡æ¯");
    console.warn("è¾“å‡ºä¸€æ¡è­¦å‘Š");
    console.error("è¾“å‡ºä¸€æ¡é”™è¯¯");
</script>
```

![image-20201025103100826](assets/0ce4f104e24737e922449dfcd54951f2.png)

### 3.å¼¹çª—è¾“å‡º

å¦‚ä½•ä½¿ç”¨JavaScriptå‘å¼¹å‡ºçª—å£è¾“å‡ºä¸€å¥è¯ï¼Œè¯·å‚è€ƒä»¥ä¸‹ä»£ç 

```javascript
<script>
    alert("Hello,World!");
</script>
```

## ä¸ƒã€JavaScriptæ•°æ®ç±»å‹

### 1.å£°æ˜

[`var`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/var)å£°æ˜ä¸€ä¸ªå˜é‡ï¼Œå¯é€‰åˆå§‹åŒ–ä¸€ä¸ªå€¼

[`let`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/let)å£°æ˜ä¸€ä¸ªå—ä½œç”¨åŸŸçš„å±€éƒ¨å˜é‡ï¼Œå¯é€‰åˆå§‹åŒ–ä¸€ä¸ªå€¼

[`const`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/const)å£°æ˜ä¸€ä¸ªå—ä½œç”¨åŸŸçš„åªè¯»å¸¸é‡

### 2.åŸºæœ¬æ•°æ®ç±»å‹

JSå†…æœ‰äº”ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå³`String`ã€`Number`ã€`Boolean`ã€`Undefined`ã€`Null`ï¼Œè¿™äº”ç§ç±»å‹ä¹‹å¤–çš„ç±»å‹éƒ½ç§°ä¸º`Object`ï¼Œæ‰€ä»¥æ€»çš„æ¥çœ‹JavaScriptä¸­å…±æœ‰å…­ç§æ•°æ®ç±»å‹

> `typeof`æ“ä½œç¬¦ç”¨æ¥æ£€æŸ¥å˜é‡çš„æ•°æ®ç±»å‹ï¼Œè¯­æ³•æ ¼å¼æ˜¯`typeof æ•°æ®`ï¼Œè¯·çœ‹ä»¥ä¸‹ç¤ºä¾‹
>
> ```javascript
> console.log(typeof 123);
> console.log(typeof "Hello,World!");
> console.log(typeof true);
> console.log(typeof undefined);
> console.log(typeof null);
> ```
>
> ![image-20201013080324458](assets/b9ba0a296f0c0a973fae0c2bda964929.png)

### 3.String

å­—ç¬¦ä¸²éœ€è¦ä½¿ç”¨**å•å¼•å·**æˆ–**åŒå¼•å·**æ‹¬èµ·æ¥ï¼Œå¤–éƒ¨å·²ä½¿ç”¨åŒå¼•å·åˆ™å†…éƒ¨ä½¿ç”¨å•å¼•å·ï¼Œå…¶ä¸­è½¬ä¹‰å­—ç¬¦å¦‚ä¸‹

![image-20201013085608008](assets/8cd27bded82d24387ae42b8444f0d25e.png)

**å¼ºåˆ¶è½¬æ¢ä¸ºStringç±»å‹æœ‰ä¸‰ç§æ–¹å¼**

* `toString()`ä¸ä¼šå½±å“åˆ°åŸå˜é‡ï¼Œå°†è½¬æ¢ç»“æœè¿”å›ï¼Œä½†æ˜¯`null`å’Œ`undefined`æ²¡æœ‰`toString()`ï¼Œå¦‚æœè°ƒç”¨ä¼šæŠ¥é”™

  ```javascript
  var a = 123;
  a = a.toString();
  console.log(a);
  console.log(typeof a);
  ```

* `String()`ä¸­å°†è¢«è½¬æ¢çš„æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ï¼Œä½¿ç”¨`String()`åšå¼ºåˆ¶ç±»å‹è½¬æ¢æ—¶ï¼Œå¯¹äº`Number`å’Œ`Boolean`å®é™…ä¸Šå°±æ˜¯è°ƒç”¨çš„`toString()`ï¼Œä½†æ˜¯å¯¹äº`null`å’Œ`undefined`ä¼šå°†`null`è½¬æ¢ä¸º `â€œnullâ€`ï¼Œå°†`undefined`è½¬æ¢ä¸º`â€œundefinedâ€`

  ```javascript
  var a = 123;
  a = String(a);
  console.log(a);
  console.log(typeof a);
  
  var b = undefined;
  b = String(b);
  console.log(b);
  console.log(typeof b);
  
  var c = null;
  c = String(c);
  console.log(c);
  console.log(typeof c);
  ```

* ä¸ºä»»æ„çš„æ•°æ®ç±»å‹ `+""`

  ```javascript
  var a = 123;
  a = a + "";
  console.log(a);
  console.log(typeof a);
  ```

### 4.Number

Numberè¡¨ç¤ºæ•´æ•°å’Œæµ®ç‚¹æ•°ï¼Œå…¶Numberè¡¨ç¤ºçš„æ•°å­—å¤§å°æ˜¯æœ‰é™çš„ï¼Œå¦‚æœè¶…è¿‡è¯¥èŒƒå›´ï¼Œåˆ™ä¼šè¿”å›`Â±Infinity(Â±æ— ç©·)`

* æœ€å¤§å€¼`+1.7976931348623157e+308`
* æœ€å°å€¼`-1.7976931348623157e+308`
* 0ä»¥ä¸Šçš„æœ€å°å€¼`5e-324`

**å¼ºåˆ¶è½¬æ¢ä¸ºNumberç±»å‹æœ‰ä¸‰ç§æ–¹å¼**

* `Number()`å¯ä»¥è½¬æ¢`String/Boolean/null/undefined`ç±»å‹
  * `çº¯æ•°å­—Stirng â†’ å¯¹åº”æ•°å­—`ã€`å«éæ•°å­—String â†’ NaN`ã€`å…¨æ˜¯ç©ºçš„String â†’ 0`ï¼Œ`NaN(Not A Number)`è¡¨ç¤ºéæ³•æ•°å­—
  * `Booleanä¸­çš„true â†’ 1`ã€`Booleanä¸­çš„false â†’ 0`
  * `null â†’ 0`
  * `undefined â†’ NaN`

* `parseInt()`ä¸“ç”¨äº`String`ï¼Œå°†å­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°

  ```javascript
  var a = "123";
  a = parseInt(a);
  console.log(a);
  console.log(typeof a);
  ```

* `parseFloat()`ä¸“ç”¨äº`String`ï¼Œå°†å­—ç¬¦ä¸²è½¬ä¸ºæµ®ç‚¹æ•°

  ```javascript
  var a = "123.456";
  a = parseFloat(a);
  console.log(a);
  console.log(typeof a);
  ```

### 5.Boolean

`Boolean`åªå¯å–`true`æˆ–`false`ï¼Œ**å¼ºåˆ¶è½¬æ¢ä¸ºBooleanç±»å‹åªæœ‰ä¸€ç§æ–¹å¼ï¼Œå³`Boolean()`**

* `String â†’ å¸ƒå°”`ï¼Œé™¤äº†ç©ºä¸²éƒ½æ˜¯`true`
* `Number â†’ å¸ƒå°”`ï¼Œé™¤äº†0å’Œ`NaN`éƒ½æ˜¯`true`
* `null/undefined â†’ å¸ƒå°”`ï¼Œéƒ½æ˜¯`false`

* `Object â†’ å¸ƒå°”`ï¼Œéƒ½æ˜¯`true`

### 6.Undefined

`Undefined`ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ç‰¹æ®Šçš„`undefined`ï¼Œåœ¨ä½¿ç”¨`var`å£°æ˜å˜é‡ä½†æœªå¯¹å…¶åŠ ä»¥åˆå§‹åŒ–æ—¶ï¼Œè¿™ä¸ªå˜é‡çš„å€¼å°±æ˜¯`undefined`

### 7.Null

`Null`ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ç‰¹æ®Šçš„`null`ï¼Œ`undefined`å€¼å®é™…ä¸Šæ˜¯ç”±`null`å€¼è¡ç”Ÿå‡ºæ¥çš„ï¼Œæ‰€ä»¥å¦‚æœæ¯”è¾ƒ`undefined`å’Œ`null`æ˜¯å¦ç›¸ç­‰ä¼šè¿”å›`true`

## å…«ã€JavaScriptè¿ç®—ç¬¦

å­¦ä¹ è¿‡JavaåŸºç¡€çš„æœ‹å‹è¿™éƒ¨åˆ†ä¸éš¾ï¼Œæ­¤å¤„åªå±•ç¤ºéƒ¨åˆ†ï¼Œå…¶ä»–è¯·å‚è€ƒ[è¿ç®—ç¬¦å®˜ç½‘](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators)

### 1.typeof

`typeof`æ“ä½œç¬¦ç”¨æ¥æ£€æŸ¥å˜é‡çš„æ•°æ®ç±»å‹ï¼Œè¯­æ³•æ ¼å¼æ˜¯`typeof æ•°æ®`ï¼Œè¯·çœ‹ä»¥ä¸‹ç¤ºä¾‹

```javascript
console.log(typeof 123);
console.log(typeof "Hello,World!");
console.log(typeof true);
console.log(typeof undefined);
console.log(typeof null);
```

![image-20201013080324458](../5.%E5%89%8D%E7%AB%AF/assets/b9ba0a296f0c0a973fae0c2bda964929.png)

### 2.æ¯”è¾ƒè¿ç®—ç¬¦

`==`ç›¸ç­‰ã€`!=`ä¸ç­‰ã€`===`å…¨ç­‰ã€`!==`ä¸å…¨ç­‰

* ç›¸ç­‰åªéœ€å€¼ç›¸ç­‰å³è¿”å›`true`ï¼Œä¼šè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼›è€Œå…¨ç›¸ç­‰æ—¶å€¼å’Œç±»å‹éƒ½è¦ç›¸ç­‰ï¼Œå¦åˆ™è¿”å›`false`ï¼Œä¸ä¼šè‡ªåŠ¨ç±»å‹è½¬æ¢

### 3.è¿ç®—ç¬¦ä¼˜å…ˆçº§

![1660631545907](assets/1660631545907.png)

## ä¹ã€JavaScriptè¯­å¥å’Œä»£ç å—

### 1.è¯­å¥

è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦å¯ç†è§£ä¸ºå•è¯ã€çŸ­è¯­ï¼Œè€Œè¯­å¥Statementåˆ™æ˜¯å®Œæ•´çš„è¯ï¼ŒJavaScriptçš„ç¨‹åºç”±ä¸€æ¡ä¸€æ¡è¯­å¥æ„æˆçš„ï¼Œæ¯ä¸€æ¡è¯­å¥ä½¿ç”¨`;`ç»“å°¾

### 2.ä»£ç å—

ä»£ç å—æ˜¯åœ¨å¤§æ‹¬å·`{}`ä¸­æ‰€å†™çš„è¯­å¥ï¼Œä»¥æ­¤å°†å¤šæ¡è¯­å¥çš„é›†åˆè§†ä¸ºä¸€æ¡è¯­å¥æ¥ä½¿ç”¨ï¼Œä»£ç å—ç»“å°¾ä¸éœ€è¦åŠ `;`

```javascript
{
    var a = 123;
    a++;
    alert(a);
}
```

## åã€JavaScriptå‡½æ•°

æ³¨æ„JavaScriptä¸­çš„å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œ`typeof å‡½æ•° = function`

### 1.å‡½æ•°åˆ›å»º

#### 1.1.å‡½æ•°å¯¹è±¡åˆ›å»º

å‡½æ•°å¯¹è±¡åˆ›å»ºæ–¹æ³•å‡ ä¹ä¸ç”¨ï¼Œè¯­æ³•æ ¼å¼`var å‡½æ•°å = new Function("æ‰§è¡Œè¯­å¥");`ï¼Œä¾‹å¦‚`var fun = new Function("console.log('è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªå‡½æ•°');");`

#### 1.2.å‡½æ•°å£°æ˜åˆ›å»º

å‡½æ•°å£°æ˜åˆ›å»ºæ–¹æ³•æ˜¯å¸¸ç”¨æ–¹æ³•ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹

```javascript
function å‡½æ•°å([å½¢å‚1,å½¢å‚2,...,å½¢å‚N]) {
    è¯­å¥...
    [return xx;]//æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°è¿”å›ç»“æœä¸ºundefined
}
```

#### 1.3.å‡½æ•°è¡¨è¾¾å¼åˆ›å»º

å‡½æ•°è¡¨è¾¾å¼åˆ›å»ºæ–¹æ³•æ˜¯å¸¸ç”¨æ–¹æ³•ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼Œè¯¥æ–¹å¼åˆ›å»ºçš„æ˜¯**åŒ¿åå‡½æ•°**

```javascript
var å‡½æ•°å  = function([å½¢å‚1,å½¢å‚2,...,å½¢å‚N]) {
    è¯­å¥....
    [return xx;]//æ²¡æœ‰è¿”å›å€¼çš„å‡½æ•°è¿”å›ç»“æœä¸ºundefined
}
```

å…¶ä¸­**`=`åçš„å‡½æ•°ä½“ç›¸å½“äºå­—ç¬¦ä¸²ï¼Œå³`å‡½æ•°å=å‡½æ•°å®šä¹‰`ï¼Œå®é™…ä¸Šå‡½æ•°åä¿å­˜çš„æ˜¯å‡½æ•°å®šä¹‰è¯­å¥ï¼Œæ˜¯å­—é¢é‡Stringç±»å‹**ï¼Œæ­¤ç±»å‡½æ•°çš„æ¿€æ´»æ ¼å¼ä¸º`(åŒ¿åå‡½æ•°å)()`ï¼Œå³ç«‹å³æ‰§è¡Œå‡½æ•°çš„æ ¼å¼å¦‚ä¸‹

```javascript
(function () {
    alert("æˆ‘æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°");
})();
```

### 2.å‡½æ•°åµŒå¥—

åœ¨å‡½æ•°ä¸­å£°æ˜çš„å‡½æ•°å°±æ˜¯åµŒå¥—å‡½æ•°ï¼Œ**åµŒå¥—å‡½æ•°åªèƒ½åœ¨å½“å‰å‡½æ•°ä¸­å¯ä»¥è®¿é—®**ï¼Œåœ¨å½“å‰å‡½æ•°å¤–æ— æ³•è®¿é—®

```javascript
function fu() {
    function zi() {
        console.log("æˆ‘æ˜¯å„¿å­")
    }
    zi();
}

fu();
```

**å‡½æ•°åµŒå¥—å¯åº”ç”¨äºç®—æ³•éšè—**

```javascript
function add4(x,y){
	return suanfa();
	
	//ç®—æ³•å°è£… å¤–éƒ¨äººå‘˜çœ‹ä¸åˆ°
	function suanfa(){
		return(x+y)*2;
	}
}
```

### 3.å¸¸ç”¨å‡½æ•°

`alert()`ï¼šæ˜¾ç¤ºæ¶ˆæ¯çš„å¯¹è¯æ¡† 

`prompt()`ï¼šå‘ç”¨æˆ·è¯·æ±‚è¾“å…¥çš„å¯¹è¯æ¡†

`confirm()`ï¼šè¯¢é—®æ˜¯æˆ–å¦çš„å¯¹è¯æ¡†

`parseInt()`ï¼šå¼ºè½¬ï¼Œè½¬ç¬¬ä¸€ä¸ªæ— æ•ˆå­—ç¬¦ä¹‹å‰çš„å­—ç¬¦ä¸²

`parseFloat()`ï¼šå¼ºè½¬ï¼Œè½¬ç¬¬ä¸€ä¸ªæ— æ•ˆå­—ç¬¦ä¹‹å‰çš„å­—ç¬¦ä¸²

`typeof()`ï¼šæ•°æ®ç±»å‹

`isNaN()`ï¼šæ˜¯å¦æ˜¯éæ•°å­—çš„å€¼

`eval()`ï¼šæ¿€æ´»å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚`eval("1"+"+"+"2")`ä¼šè®¡ç®—å­—ç¬¦ä¸²çš„ç»“æœï¼Œè¾“å‡º`3`ï¼Œåº”ç”¨äºæ¿€æ´»å‡½æ•°å­—é¢å€¼ï¼Œå³æ¿€æ´»åŒ¿åå‡½æ•°

`setInterval("XXX",time)`ï¼šæ¯éš”timeæ¯«ç§’è°ƒç”¨ä¸€æ¬¡XXX

`setTimeout("XXX",time)`ï¼šéš”timeæ¯«ç§’è°ƒç”¨ä¸€æ¬¡XXXï¼Œåªè°ƒç”¨ä¸€æ¬¡ï¼Œå¯ä»¥é€’å½’å®ç°è¿ç»­è°ƒç”¨

### 4.function

æ‰€æœ‰`function`ç±»å‹çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª`prototype`å±æ€§

* å‡½æ•°å®šä¹‰æ—¶ï¼Œ`prototype`è¢«è‡ªåŠ¨åˆ›å»ºå¹¶åˆå§‹åŒ–ï¼Œå½“å‰ä½œç”¨åŸŸé“¾è¢«ä¿å­˜ä¸ºå‡½æ•°çš„å†…éƒ¨çŠ¶æ€
* å‡½æ•°è¢«`new`æ—¶ï¼Œ`prototype`è¢«æŒ‡æ´¾ç»™å¼•ç”¨ä½œä¸ºå†…ç½®å¯¹è±¡
* å‡½æ•°ä½¿ç”¨æ—¶ï¼ŒJSæ„å»ºä¸€ä¸ªä»–çš„ä¸Šä¸‹æ–‡`this`å¹¶ç»™`call()`

æ‰€æœ‰`function`ç±»å‹çš„å¯¹è±¡éƒ½æœ‰ä¸€ä¸ª`length`å±æ€§

## åä¸€ã€JavaScriptå¯¹è±¡

### 1.åˆ›å»ºå¯¹è±¡

#### 1.1.æ™®é€šåˆ›å»º

```javascript
var person = new Object();//æ— å‚æ„é€ å‡½æ•°å¯ä»¥çœç•¥()
person.name = "å­™æ‚Ÿç©º";
person.age = 18;
console.log(person);
```

```javascript
var person = {
    name: "å­™æ‚Ÿç©º",
    age: 18
};
console.log(person);
```

#### 1.2.å·¥å‚æ–¹æ³•åˆ›å»º

å·²ç»å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œé‚£æˆ‘ä»¬è¦æ˜¯æƒ³è¦åˆ›å»ºå¤šä¸ªå¯¹è±¡åˆè¯¥æ€ä¹ˆåŠï¼Ÿå¯é€šè¿‡**å·¥å‚æ–¹æ³•åˆ›å»º**

â‘ å•ä¸ªå•ä¸ªå¯¹è±¡çš„åˆ›å»ºæ–¹å¼å¦‚ä¸‹

```javascript
var person1 = {
    name: "å­™æ‚Ÿç©º",
    age: 18,
    sayName: function () {
        console.log(this.name);
    }
};

var person2 = {
    name: "çŒªå…«æˆ’",
    age: 19,
    sayName: function () {
        console.log(this.name);
    }
};

var person3 = {
    name: "æ²™å’Œå°š",
    age: 20,
    sayName: function () {
        console.log(this.name);
    }
};

console.log(person1);
console.log(person2);
console.log(person3);
```

â‘¡å·¥å‚æ–¹æ³•åˆ›å»ºï¼Œä½†ä»¥ä¸‹çš„åˆ›å»ºæ–¹å¼åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡çš„å±æ€§éƒ½æ˜¯ç›¸åŒçš„ï¼Œè¯·çœ‹â‘¢

```javascript
// ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡
function createPerson() {
    // åˆ›å»ºæ–°çš„å¯¹è±¡
    var obj = new Object();
    // è®¾ç½®å¯¹è±¡å±æ€§
    obj.name = "å­™æ‚Ÿç©º";
    obj.age = 18;
    // è®¾ç½®å¯¹è±¡æ–¹æ³•
    obj.sayName = function () {
        console.log(this.name);
    };
    //è¿”å›æ–°çš„å¯¹è±¡
    return obj;
}

var person1 = createPerson();
var person2 = createPerson();
var person3 = createPerson();

console.log(person1);
console.log(person2);
console.log(person3);
```

â‘¢**å·¥å‚æ–¹æ³•åˆ›å»º**

```javascript
// ä½¿ç”¨å·¥å‚æ¨¡å¼åˆ›å»ºå¯¹è±¡
function createPerson(name, age) {
    // åˆ›å»ºæ–°çš„å¯¹è±¡
    var obj = new Object();
    // è®¾ç½®å¯¹è±¡å±æ€§
    obj.name = name;
    obj.age = age;
    // è®¾ç½®å¯¹è±¡æ–¹æ³•
    obj.sayName = function () {
        console.log(this.name);
    };
    //è¿”å›æ–°çš„å¯¹è±¡
    return obj;
}

var person1 = createPerson("å­™æ‚Ÿç©º", 18);
var person2 = createPerson("çŒªå…«æˆ’", 19);
var person3 = createPerson("æ²™å’Œå°š", 20);

console.log(person1);
console.log(person2);
console.log(person3);
```

#### 1.3.æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡

å‰é¢ä½¿ç”¨å·¥å‚æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼Œä½†åˆ›å»ºçš„å¯¹è±¡éƒ½æ˜¯`Object`ç±»å‹ï¼Œä½†æ˜¯ä¸‡ç‰©çš†å¯¹è±¡ï¼Œæœ€å¥½çŸ¥é“å¯¹è±¡çš„ç±»å‹ï¼Œæ‰€ä»¥å‡ºç°**æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡**

```javascript
// ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡
function Person(name, age) {
    // è®¾ç½®å¯¹è±¡çš„å±æ€§
    this.name = name;
    this.age = age;
    // è®¾ç½®å¯¹è±¡çš„æ–¹æ³•
    this.sayName = function () {
        console.log(this.name);
    };
}

var person1 = new Person("å­™æ‚Ÿç©º", 18);
var person2 = new Person("çŒªå…«æˆ’", 19);
var person3 = new Person("æ²™å’Œå°š", 20);

console.log(person1);
console.log(person2);
console.log(person3);
```

![image-20201016085351603](assets/7705f04f8327430a55a646c735cd6e33.png)

ä»€ä¹ˆæ˜¯æ„é€ å‡½æ•°ï¼Ÿï¼Ÿè¯·çœ‹ã€5ã€‘

### 2.æˆå‘˜è®¿é—®

è®¿é—®ä¸¤ç§æ–¹å¼ï¼Œå³`å¯¹è±¡.å±æ€§å`å’Œ`å¯¹è±¡['å±æ€§å']`

> å±æ€§å¯ä»¥æ˜¯æ–¹æ³•å®šä¹‰çš„å­—é¢é‡ï¼Œå³`å¯¹è±¡å.å±æ€§å=function(){...};`
>
> ```javascript
> var person = {
>     name: "zhangsan",
>     age: 18,
>     sayHello: function () {
>         console.log(name + " hello")
>     }
> }
> 
> person.sayHello();
> ```
>
> æ¿€æ´»å¯¹è±¡ä¸­æŸå‡½æ•°æˆå‘˜å±æ€§
>
> ```javascript
> for(var å±æ€§å in å¯¹è±¡å){
>     console.log(å±æ€§å+":"+å¯¹è±¡å[å±æ€§å]);
>     if(å±æ€§å=='å‡½æ•°å'){
>         eval("("+å¯¹è±¡å[å±æ€§å]+")()");//æ¿€æ´»å‡½æ•°
>     }
> }
> ```

### 3.åˆ é™¤å±æ€§

åˆ é™¤å±æ€§ä½¿ç”¨`delete`å…³é”®å­—ï¼Œè¯­æ³•æ ¼å¼`delete å¯¹è±¡.å±æ€§å`

```javascript
var person = new Object();
person.name = "å­™æ‚Ÿç©º";
person.age = 18;
console.log(person);

delete person.name
console.log(person);
```

### 4.éå†å¯¹è±¡

`in`è¿ç®—ç¬¦è¿­ä»£å¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œä¾¿äºä¸´æ—¶æ·»åŠ å±æ€§æˆ–æ–¹æ³•ï¼Œçµæ´»

```javascript
for(var å±æ€§å in å¯¹è±¡å){
    console.log(typeof(å±æ€§å));
    console.log(å±æ€§å);
    console.log(å¯¹è±¡å[å±æ€§å]);
}
```

### 5.æ„é€ å‡½æ•°

æ„é€ å‡½æ•°å®é™…å°±æ˜¯æ™®é€šå‡½æ•°ï¼Œåˆ›å»ºæ–¹å¼å’Œæ™®é€šå‡½æ•°å¹¶æ²¡æœ‰ä»€ä¹ˆä¸åŒï¼Œä½†æ„é€ å‡½æ•°ä¹ æƒ¯ä¸Šé¦–å­—æ¯å¤§å†™ï¼Œé‚£ä¹ˆæ„é€ å‡½æ•°å’Œæ™®é€šå‡½æ•°æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

* è°ƒç”¨æ–¹å¼ä¸åŒï¼Œ**æ„é€ å‡½æ•°é€šè¿‡`new`è°ƒç”¨**ï¼Œæ™®é€šå‡½æ•°å¯ç›´æ¥è°ƒç”¨
* **æ„é€ å‡½æ•°ä¸­å¯å­˜åœ¨`this`å…³é”®å­—**

```javascript
function Animal(name,age){//è¿™å°±æ˜¯æ„é€ å‡½æ•°
  this.name = name;     
  this.age = age;       
}
//å»ºç«‹ä¸€ä¸ªåŠ¨ç‰©çš„å®ä¾‹     
var a1 =  new Animal("zhang",18);
```

**æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ**è¯·å¾€ä¸‹çœ‹ğŸ‘€ï¼Œå‘ç°ä¸ªå·¥å‚åˆ›å»ºæœ‰ç‚¹ç±»ä¼¼ï¼Œä½†ä¸åŒçš„æ˜¯**åˆ›å»ºå’Œè¿”å›å¯¹è±¡è¿‡ç¨‹è¢«éšè—**

* `new`æ„é€ å‡½æ•°ä¼šç«‹å³åˆ›å»ºæ–°å¯¹è±¡
* æ–°å¯¹è±¡è¢«è®¾ç½®ä¸ºå‡½æ•°ä¸­çš„`this`
* é€æ¡æ‰§è¡Œå‡½æ•°ä¸­çš„ä»£ç 
* å°†æ–°å»ºçš„å¯¹è±¡ä½œä¸ºè¿”å›å€¼

### 6.thiså…³é”®å­—

è§£æå™¨åœ¨è°ƒç”¨å‡½æ•°æ¯æ¬¡éƒ½ä¼šå‘å‡½æ•°å†…éƒ¨ä¼ é€’è¿›ä¸€ä¸ªéšå«çš„å‚æ•°`this`ï¼Œ`this`æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æˆ‘ä»¬ç§°ä¸ºå‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæ ¹æ®å‡½æ•°çš„è°ƒç”¨æ–¹å¼çš„ä¸åŒï¼Œ`this`ä¼šæŒ‡å‘ä¸åŒçš„å¯¹è±¡ï¼Œæ¥ä¸‹æ¥ä¸€èµ·æ¢ç©¶`this`çš„æŒ‡å‘

> `call()`å’Œ`apply()`éƒ½ç”¨äºç«‹å³æ‰§è¡Œä»£ç å¹¶è¿”å›ç»“æœ
>
> * `call(this,a,b...)`å…¶ä¸­`a`ã€`b`ä¸º**å‚æ•°**ï¼Œç›¸å½“äºåå°„çš„`invoke()`ï¼Œå½“è°ƒç”¨æ–¹æ³•æ—¶ï¼ŒJSä¼šå»ºç«‹æ‰§è¡Œè¯¥æ–¹æ³•çš„ä¸Šä¸‹æ–‡`this`ç»™`call()`
>
>   ```javascript
>   var first = {
>     num: 11
>   };
>   function multiply(mult) {
>       return this.num * mult;
>   }
>   //åœ¨multiplyæ–¹æ³•ä¸­è®¾ç½®thisä¸ºfirstï¼ŒåŒæ—¶ç»™multiplyè®¾ç½®å‚æ•°ä¸º7
>   multiply.call(first, 7); //11 * 7
>   ```
>
> * `apply(this,array)`å…¶ä¸­`array`ä¸º**å‚æ•°æ•°ç»„**

â‘ å½“è°ƒç”¨`Person.answerName()`æ—¶JSå»ºç«‹æ‰§è¡Œä»–çš„ä¸Šä¸‹æ–‡`this`æä¾›ç»™`call()`ï¼Œå³`answerName.call(this)`ï¼Œå…¶å®`this`è¡¨ç¤ºPersonï¼Œ**`this`å–æœ€åä¸€ä¸ª`.`å‰å‡ºç°çš„å¯¹è±¡**

```javascript
var Person = {
    name = 'Person ';
   
    answerName=function() {
        return this.name;
    };
};
Person.answerName();
```

â‘¡Personè¢«å®šä¹‰ä¸ºæœ‰æ„é€ å‡½æ•°çš„ç±»è¢«`new`å‡ºæ¥ï¼Œæ­¤æ—¶`this`æŒ‡å‘`newInstance`ï¼ŒåŒæ ·**`this`å–æœ€åä¸€ä¸ª`.`å‰å‡ºç°çš„å¯¹è±¡**

```javascript
var Person = function(name) {
    this.name = name;

    answerName=function() {
        return this.name;
    };
};
var newInstance = new Person('n1');
newInstance.answerName();
```

â‘¢è¯¥æ¡ˆä¾‹ä¸­`this`æŒ‡å‘`window`ï¼Œè€Œä¸æ˜¯`answerThis`ï¼Œæ­¤å¤„æ²¡æœ‰`.`ï¼Œæ‰€ä»¥`this`å–æœ€åä¸€ä¸ª`.`å‰å‡ºç°çš„å¯¹è±¡è§„åˆ™æ²¡æœ‰ç”¨ä¸Š

```javascript
function getThis() {
    return this;
}
var answerThis = getThis();
```

å†çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼Œæ­¤æ—¶`this`æŒ‡å‘`window`

```javascript
var hello = function{
    alert("hello");
}
this.hello();//window.hello()
```

â‘£`this`ä¸å†æ˜¯æœ€åä¸€ä¸ª`.`å‰çš„å¯¹è±¡ï¼Œè€Œæ˜¯**äº‹ä»¶çš„è°ƒç”¨è€…**çš„æƒ…å†µï¼Œå½“æ–¹æ³•è¢«ä½œä¸ºäº‹ä»¶å¤„ç†å™¨æ—¶ï¼Œä¸ç­‰äºè¢«ä¸€ä¸ªå¯¹è±¡ç›´æ¥è°ƒç”¨ï¼Œæ­¤æ—¶`this=äº‹ä»¶çš„è°ƒç”¨è€…botton`

```javascript
var Person = function(name) {
    this.name = name;

    answerName=function() {
        return this.name;
    };
};

var addHandler = function() {
    //æ¥ä¸‹æ¥ä¸¤å¥è¯çš„æ„æ€æ˜¯id=buttonIdçš„æŒ‰é’®æ·»åŠ onclickäº‹ä»¶çš„å¤„ç†å™¨newInstance.answerName
    var newInstance = new Person('newInstance');
    var button = document.getElementById('buttonId');
    button.onclick = newInstance.answerName;//å½“ç‚¹å‡»è¯¥bottonæ—¶è¿”å›undefined
};
window.onload = addHandler;
```

å½“æ–¹æ³•æ˜¯äº‹ä»¶å¤„ç†å™¨æ—¶ï¼Œæ€ä¹ˆæ ·è®©`this`æŒ‡å‘æœ€è¿‘çš„`.`å‰çš„å¯¹è±¡ï¼Ÿï¼Ÿ

* ä¸´æ—¶è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨`call`æˆ–`apply`æ–¹æ³•ç«‹å³æ‰§è¡Œä»£ç ç„¶åè¿”å›ç»“æœ

  ```javascript
  button.onclick = newInstance.answerName.call(newInstance);
  //thiså…ˆæŒ‡å‘newInstanceï¼Œç«‹å³æ‰§è¡ŒanswerNameæ–¹æ³•åè¿”å›ä¸€ä¸ªç»“æœä½œä¸ºonclickäº‹ä»¶çš„å“åº”
  ```

* ç²¾åè§£å†³æ–¹æ¡ˆ

```javascript
//Functionæ˜¯å…¨å±€å¯¹è±¡ï¼Œä½¿ç”¨prototypeé‚£ä¹ˆä»¥åå®šä¹‰çš„ä»»ä½•functionéƒ½èƒ½ç”¨bindè¿™ä¸ªæ–¹æ³•
Function.prototype.bind = function(obj) {//obj=newInstance
    var method = this,//method=this=answerName
    var temp = function() {
        return method.apply(obj, arguments);//argumentsæ˜¯å…¨å±€å˜é‡ï¼Œå­˜å‚æ•°çš„æ•°ç»„
    };
    //temp=answerName.apply(newInstance, arguments)
    return temp;
}
button.onclick = newInstance.answerName.bind(newInstance);
```

**ğŸ†—åˆ°æ­¤å°±æ¢ç©¶å®Œæ¯•ï¼Œæ€»ç»“ä¸€æ³¢`this`çš„æŒ‡å‘**

* **å½“å¯¹è±¡ç›´æ¥è°ƒç”¨æ—¶ï¼Œ`this`å–æœ€åä¸€ä¸ª`.`å‰å‡ºç°çš„å¯¹è±¡ï¼Œæ— åˆ™`window`**
* **å½“æ–¹æ³•è¢«ä½œä¸ºäº‹ä»¶å¤„ç†å™¨æ—¶ï¼Œæ­¤æ—¶`this`ä¸ºäº‹ä»¶çš„è°ƒç”¨è€…**

> instanceofè¿ç®—ç¬¦æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¸€ä¸ªç±»çš„å®ä¾‹ï¼Œè¿”å›trueæˆ–falseï¼Œè¯­æ³•æ ¼å¼æ˜¯`å¯¹è±¡ instanceof æ„é€ å‡½æ•°`

### 7.åŸå‹prototype

ä½¿ç”¨æ„é€ å‡½æ•°çš„æ–¹å¼è¿›è¡Œåˆ›å»ºå¯¹è±¡æ—¶ï¼Œè‹¥åªéœ€æ”¹å˜æŸäº›å±æ€§ï¼Œè€Œæ–¹æ³•æ˜¯ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå¦‚æœåˆ›å»º1000ä¸ªå¯¹è±¡ï¼Œé‚£å²‚ä¸æ˜¯å†…å­˜ä¸­å°±æœ‰1000ä¸ªç›¸åŒçš„æ–¹æ³•ï¼Œå¯¹å†…å­˜çš„æµªè´¹å¤ªå¤§ï¼Œæœ‰æ²¡æœ‰ä»€ä¹ˆå¥½çš„åŠæ³•è§£å†³ï¼Ÿ**å¯ä»¥æŠŠå‡½æ•°æŠ½å–å‡ºæ¥ä½œä¸ºå…¨å±€å‡½æ•°ï¼Œåœ¨æ„é€ å‡½æ•°ä¸­ç›´æ¥å¼•ç”¨å°±å¯ä»¥**

```javascript
// ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡
function Person(name, age) {
    // è®¾ç½®å¯¹è±¡çš„å±æ€§
    this.name = name;
    this.age = age;
    // è®¾ç½®å¯¹è±¡çš„æ–¹æ³•
    this.sayName = sayName
}

// æŠ½å–æ–¹æ³•ä¸ºå…¨å±€å‡½æ•°
function sayName() {
    console.log(this.name);
}

var person1 = new Person("å­™æ‚Ÿç©º", 18);
var person2 = new Person("çŒªå…«æˆ’", 19);
var person3 = new Person("æ²™å’Œå°š", 20);

person1.sayName();
person2.sayName();
person3.sayName();
```

![image-20201016085859719](assets/05f5cdbe83821c5ab8262a4b0d3096fe.png)

ä½†å®šä¹‰å…¨å±€å‡½æ•°å¹¶ä¸æ˜¯å¥½æ–¹å¼ï¼Œå› ä¸ºå¤šäººåä½œåœºæ™¯ä¸‹åˆ«äººçš„æ–¹æ³•ä¹Ÿå«`sayName`æ€ä¹ˆåŠï¼Œé€ æˆ**å…¨å±€ä½œç”¨åŸŸæ±¡æŸ“**ï¼Œé‚£ä¹ˆæ€ä¹ˆåŠï¼Ÿè¯·çœ‹**åŸå‹å¯¹è±¡**

```javascript
// ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡
function Person(name, age) {
    // è®¾ç½®å¯¹è±¡çš„å±æ€§
    this.name = name;
    this.age = age;
}

// åœ¨Personç±»çš„åŸå‹å¯¹è±¡ä¸­æ·»åŠ æ–¹æ³•
Person.prototype.sayName = function() {
    console.log(this.name);
};

var person1 = new Person("å­™æ‚Ÿç©º", 18);
var person2 = new Person("çŒªå…«æˆ’", 19);
var person3 = new Person("æ²™å’Œå°š", 20);

person1.sayName();
person2.sayName();
person3.sayName();
```

![image-20201016091223379](assets/7a39d722ae8c06f66b47748bfc3bfa9b.png)

------

åŸå‹`prototype`åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ**æ¯ä¸ªå‡½æ•°è§£æå™¨éƒ½ä¼šåˆ›å»ºå±æ€§`prototype`ï¼Œ`prototype`å¯¹åº”ç€ä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°±æ˜¯åŸå‹å¯¹è±¡**ï¼ŒåŸå‹å¯¹è±¡ç›¸å½“äºå…¬å…±åŒºåŸŸï¼Œæ‰€ä»¥**åŒä¸€ç±»çš„å®ä¾‹éƒ½å¯è®¿é—®è¯¥åŸå‹å¯¹è±¡**ï¼Œå¯å°†å¯¹è±¡ä¸­å…±æœ‰çš„å†…å®¹ç»Ÿä¸€è®¾ç½®åˆ°åŸå‹å¯¹è±¡ä¸­

* å¦‚æœå‡½æ•°ä½œä¸ºæ™®é€šå‡½æ•°è°ƒç”¨`prototype`æ²¡æœ‰ä»»ä½•ä½œç”¨
* å¦‚æœå‡½æ•°ä»¥æ„é€ å‡½æ•°çš„å½¢å¼è°ƒç”¨`prototype`æŒ‡å‘è¯¥æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡

**å½“æˆ‘ä»¬è®¿é—®å¯¹è±¡çš„ä¸€ä¸ªå±æ€§æˆ–æ–¹æ³•æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨å¯¹è±¡è‡ªèº«ä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä¼šå»åŸå‹å¯¹è±¡ä¸­å¯»æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°åˆ™ç›´æ¥ä½¿ç”¨**

**ä»¥åæˆ‘ä»¬åˆ›å»ºæ„é€ å‡½æ•°æ—¶ï¼Œå¯ä»¥å°†è¿™äº›å¯¹è±¡å…±æœ‰çš„å±æ€§å’Œæ–¹æ³•ç»Ÿä¸€æ·»åŠ åˆ°æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¸­ï¼Œè¿™æ ·ä¸ç”¨åˆ†åˆ«ä¸ºæ¯ä¸€ä¸ªå¯¹è±¡æ·»åŠ ï¼Œä¹Ÿä¸ä¼šå½±å“åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œå°±å¯ä»¥ä½¿æ¯ä¸ªå¯¹è±¡éƒ½å…·æœ‰è¿™äº›å±æ€§å’Œæ–¹æ³•**

------

ğŸ†—æ€»ç»“ä¸€æ³¢

* `prototype`å±æ€§æœ¬èº«æ˜¯`Object`ç±»å‹çš„å¯¹è±¡ï¼Œå› æ­¤å¯ä»¥ç»™`prototype`å¯¹è±¡æ·»åŠ ä»»æ„çš„å±æ€§å’Œæ–¹æ³•
* `prototype`çš„å±æ€§å’Œæ–¹æ³•è¢«åŒç±»å¯¹è±¡å…±äº«
* `prototype`æ˜¯å¯¹è±¡çš„åŸå‹ï¼ŒæŒ‡å‘çˆ¶ç±»ï¼Œä½¿æœ¬ç±»æœ‰çˆ¶ç±»çš„ç‰¹å¾
* ç”±ä»¥ä¸Šä¸¤ç‚¹å¯çŸ¥ï¼Œ`prototype`ä¸ä½†**å…±äº«è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ç»™åŒç±»å¯¹è±¡**ï¼Œè¿˜å¯ä»¥**å¯»æ ¹é—®ç¥–**
  * è‹¥è‡ªå·±æ²¡æœ‰å°±å»ä¸è‡ªå·±å…³è”çš„`prototype`å¯¹è±¡æ‰¾ï¼Œè‹¥åˆæ²¡æœ‰åˆ™åˆå»è‡ªå·±å…³è”çš„å‰è¾ˆ`prototype`æ‰¾ï¼Œç›´åˆ°ç»“æŸæˆ–æœªæ‰¾åˆ°ä¸ºæ­¢

* å½“å®šä¹‰æ–¹æ³•æ—¶ï¼Œ`prototype`è¢«è‡ªåŠ¨åˆ›å»ºå¹¶åˆå§‹åŒ–ï¼Œåˆå§‹å€¼æ˜¯æ‹¥æœ‰åä¸º`constructor`å±æ€§çš„å¯¹è±¡

------

ğŸ†—ä»£ç ä½“ç°ä¸€æ³¢**å…±äº«è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ç»™åŒç±»å¯¹è±¡**

* è®¾ç½®çˆ¶ç±»

```javascript
function Person(name){
    this.name=name;
}
```

* `Person`çš„`prototype`æ·»åŠ `personPrototype()`

```javascript
Person.prototype.personPrototype=function(){
    alert(this.name);
}
```

* åˆ›å»ºä¸¤ä¸ªå¯¹è±¡ï¼Œè°ƒç”¨`personPrototype()`

```javascript
var p1=new Person("p1");
var p2=new Person("p2");

p1.personPrototype();
p2.personPrototype();

p1.personPrototype()==p2.personPrototype()//tureï¼Œè¯´æ˜ä¸¤ä¸ªå¯¹è±¡å…±äº«personPrototype()
```

> **ä¸å»ºè®®è®¿é—®å†…ç½®åŸå‹å¯¹è±¡**ï¼Œå› ä¸ºå†…ç½®åŸå‹å¯¹è±¡æœ¬èº«ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä¹Ÿæœ‰è‡ªå·±çš„å…³è”ï¼Œä»è€Œå½¢æˆåŸå‹é“¾ï¼ŒåŸå‹é“¾çš„æœ€æœ«ç«¯æ˜¯Objectæ„é€ å‡½æ•°`prototype`æŒ‡å‘çš„åŸå‹å¯¹è±¡`null`(æœ€è€çš„ç¥–å…ˆ)ï¼Œè€ç¥–å®—å®ç°ä¸€äº›å¯¹è±¡å¤©ç”Ÿå°±è¯¥æœ‰çš„æ–¹æ³•(åŸå‹å¯¹è±¡ç»§æ‰¿)

### 8.åŸå‹é“¾

åŸå‹ç»§æ‰¿æŒ‡`new`åŒæ—¶å°†æ„é€ å‡½æ•°çš„`prototype`å¯¹è±¡(åŸå‹å¯¹è±¡)æŒ‡æ´¾ç»™æ–°å»ºçš„å¯¹è±¡ï¼Œå³å³æŒ‡å·¦ï¼Œè€ŒåŸå¯¹è±¡çš„`prototype`ä¹Ÿæœ‰è‡ªå·±çš„å…³è”å¯¹è±¡ï¼Œå½¢æˆåŸå‹é“¾

åŸå‹é“¾æŒ‡è®¿é—®æŸå¯¹è±¡å±æ€§æ—¶ï¼Œå…ˆåœ¨è‡ªèº«å±æ€§ä¸­æŸ¥æ‰¾ï¼Œæ‰¾åˆ°è¿”å›ï¼Œè‹¥è‡ªèº«ä¸å­˜åœ¨è¦å¯»æ‰¾çš„å±æ€§å°±ä¼šå»è‡ªå·±å…³è”çš„`prototype`å¯¹è±¡æ‰¾ï¼Œè‹¥åˆæ²¡æœ‰åˆ™åˆå»è‡ªå·±å…³è”çš„å‰è¾ˆ`prototype`æ‰¾ï¼Œç›´åˆ°ç»“æŸæˆ–æœªæ‰¾åˆ°ä¸ºæ­¢ï¼Œæœ€ç»ˆæœªæ‰¾åˆ°åˆ™è¿”å›`undefined`

![image-20201016092628653](assets/34f5a7f9ab460f148c64a66e8632634b.png)

### 9.åŸå‹ç»§æ‰¿

#### 9.1.åŸå‹é“¾ç»§æ‰¿

**æ ¸å¿ƒæ€æƒ³**æ˜¯å­ç±»å‹çš„åŸå‹ä¸ºçˆ¶ç±»å‹çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼ŒåŸºæœ¬åšæ³•å¦‚ä¸‹

* å®šä¹‰çˆ¶ç±»å‹æ„é€ å‡½æ•°

  ```javascript
  function SupperType() {
      this.supProp = 'Supper property';
  }
  ```

* ç»™çˆ¶ç±»å‹çš„åŸå‹æ·»åŠ æ–¹æ³•

  ```javascript
  SupperType.prototype.showSupperProp = function () {
      console.log(this.supProp);
  };
  ```

* å®šä¹‰å­ç±»å‹çš„æ„é€ å‡½æ•°

  ```javascript
  function SubType() {
      this.subProp = 'Sub property';
  }
  ```

* åˆ›å»ºçˆ¶ç±»å‹çš„å¯¹è±¡èµ‹å€¼ç»™å­ç±»å‹çš„åŸå‹

  ```javascript
  SubType.prototype = new SupperType();
  ```

* å°†å­ç±»å‹åŸå‹çš„æ„é€ å±æ€§è®¾ç½®ä¸ºå­ç±»å‹

  ```javascript
  SubType.prototype.constructor = SubType;
  ```

* ç»™å­ç±»å‹åŸå‹æ·»åŠ æ–¹æ³•

  ```javascript
  SubType.prototype.showSubProp = function () {
      console.log(this.subProp)
  };
  ```

* åˆ›å»ºå­ç±»å‹çš„å¯¹è±¡ï¼Œå¯ä»¥è°ƒç”¨çˆ¶ç±»å‹çš„æ–¹æ³•

  ```javascript
  var subType = new SubType();
  subType.showSupperProp();
  subType.showSubProp();
  ```

![image-20201025114537583](assets/bac6a9902796a74b61ed2fd9e959fa44.png)

åŸå‹é“¾ç»§æ‰¿çš„ç¼ºç‚¹æ˜¯

* ä¸€ä¸ªå®ä¾‹ä¿®æ”¹äº†åŸå‹å±æ€§ï¼Œå¦ä¸€ä¸ªå®ä¾‹çš„åŸå‹å±æ€§ä¹Ÿä¼šè¢«ä¿®æ”¹
* ä¸èƒ½ä¼ é€’å‚æ•°
* ç»§æ‰¿å•ä¸€

#### 9.2.å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿

**æ ¸å¿ƒæ€æƒ³**æ˜¯ä½¿ç”¨`call()`æˆ–`apply()`å°†çˆ¶ç±»æ„é€ å‡½æ•°å¼•å…¥å­ç±»å‡½æ•°ï¼Œä½¿ç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°æ¥å¢å¼ºå­ç±»å®ä¾‹ï¼Œç­‰åŒäºå¤åˆ¶çˆ¶ç±»çš„å®ä¾‹ç»™å­ç±»ï¼ŒåŸºæœ¬åšæ³•å¦‚ä¸‹

* å®šä¹‰çˆ¶ç±»å‹æ„é€ å‡½æ•°

  ```javascript
  function SuperType(name) {
      this.name = name;
      this.showSupperName = function () {
          console.log(this.name);
      };
  }
  ```

* å®šä¹‰å­ç±»å‹çš„æ„é€ å‡½æ•°

  ```javascript
  function SubType(name, age) {
      // åœ¨å­ç±»å‹ä¸­è°ƒç”¨callæ–¹æ³•ç»§æ‰¿è‡ªSuperType
      SuperType.call(this, name);
      this.age = age;
  }
  ```

* ç»™å­ç±»å‹çš„åŸå‹æ·»åŠ æ–¹æ³•

  ```javascript
  SubType.prototype.showSubName = function () {
      console.log(this.name);
  };
  ```

* åˆ›å»ºå­ç±»å‹çš„å¯¹è±¡ç„¶åè°ƒç”¨

  ```javascript
  var subType = new SubType("å­™æ‚Ÿç©º", 20);
  subType.showSupperName();
  subType.showSubName();
  console.log(subType.name);
  console.log(subType.age);
  ```

![image-20201025125050202](assets/f463d70717ecb12cd6885ae465e21e62.png)

å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿çš„ç¼ºç‚¹æ˜¯

* åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§å’Œæ–¹æ³•
* æ— æ³•å®ç°æ„é€ å‡½æ•°çš„å¤ç”¨ï¼Œæ¯ä¸ªå­ç±»éƒ½æœ‰çˆ¶ç±»å®ä¾‹å‡½æ•°çš„å‰¯æœ¬ï¼Œå½±å“æ€§èƒ½ï¼Œä»£ç ä¼šè‡ƒè‚¿

#### 9.3.ç»„åˆç»§æ‰¿

**æ ¸å¿ƒæ€æƒ³**æ˜¯åŸå‹é“¾+å€Ÿç”¨æ„é€ å‡½æ•°çš„ç»„åˆç»§æ‰¿ï¼ŒåŸºæœ¬åšæ³•å¦‚ä¸‹

* åˆ©ç”¨åŸå‹é“¾å®ç°å¯¹çˆ¶ç±»å‹å¯¹è±¡çš„æ–¹æ³•ç»§æ‰¿
* åˆ©ç”¨super()å€Ÿç”¨çˆ¶ç±»å‹æ„å»ºå‡½æ•°åˆå§‹åŒ–ç›¸åŒå±æ€§

```javascript
function Person(name, age) {
    this.name = name;
    this.age = age;
}

Person.prototype.setName = function (name) {
    this.name = name;
};

function Student(name, age, price) {
    Person.call(this, name, age); // ä¸ºäº†å¾—åˆ°çˆ¶ç±»å‹çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•
    this.price = price; // æ·»åŠ å­ç±»å‹ç§æœ‰çš„å±æ€§
}

Student.prototype = new Person(); // ä¸ºäº†å¾—åˆ°çˆ¶ç±»å‹çš„åŸå‹å±æ€§å’Œæ–¹æ³•
Student.prototype.constructor = Student; // ä¿®æ­£constructorå±æ€§æŒ‡å‘
Student.prototype.setPrice = function (price) { // æ·»åŠ å­ç±»å‹ç§æœ‰çš„æ–¹æ³• 
    this.price = price;
};

var s = new Student("å­™æ‚Ÿç©º", 24, 15000);
console.log(s.name, s.age, s.price);
s.setName("çŒªå…«æˆ’");
s.setPrice(16000);
console.log(s.name, s.age, s.price);
```

![image-20201025131516264](assets/14c2cf0500c8dbb4a4584180dc4da6eb.png)

ç»„åˆç»§æ‰¿çš„ç¼ºç‚¹æ˜¯çˆ¶ç±»ä¸­çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•æ—¢å­˜åœ¨äºå­ç±»çš„å®ä¾‹ä¸­ï¼Œåˆå­˜åœ¨äºå­ç±»çš„åŸå‹ä¸­ï¼Œä¸è¿‡ä»…æ˜¯å†…å­˜å ç”¨ï¼Œå› æ­¤åœ¨ä½¿ç”¨å­ç±»åˆ›å»ºå®ä¾‹å¯¹è±¡æ—¶ï¼Œå…¶åŸå‹ä¸­ä¼šå­˜åœ¨**ä¸¤ä»½ç›¸åŒçš„å±æ€§å’Œæ–¹æ³•**

> `read-write-read`è¿‡ç¨‹
>
> * `read`æ—¶ï¼Œç”±äºè‡ªå·±çš„å¯¹è±¡æ²¡æœ‰`name`å±æ€§ï¼Œé‚£ä¹ˆå°±ä¼šè¿”å›çš„åŸå‹å¯¹è±¡çš„`name`å±æ€§çš„å€¼
> * `write name`å€¼ï¼ŒåŒæ ·æ²¡å‘ç°æœ¬èº«å¯¹è±¡æœ‰`name`å±æ€§,é‚£ä¹ˆå°±åœ¨æœ¬èº«å¯¹è±¡ä¸Šæ–°å»ºä¸€ä¸ª`name`å±æ€§ï¼Œç„¶åèµ‹å€¼
> * å†æ¬¡`read name`å±æ€§ï¼Œç”±äºåœ¨ç¬¬äºŒæ­¥ä¸­å·²ç»æ–°å»ºäº†`name`å±æ€§ï¼Œæ­¤æ—¶å°±è¿”å›åœ¨ç¬¬äºŒæ­¥ä¸­è®¾å®šçš„å€¼

#### 9.4.å°ç»“

çˆ¶å°†è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•æ— ç§åˆ†äº«ï¼Œä½†ä¸å¼ºè¿«å­éµä»ï¼Œå…è®¸å­æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•

å­è™½ç„¶å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†ä¸ä¼šåŠ¨çˆ¶çš„ä¸œè¥¿ï¼Œå³`read-write-read`è¿‡ç¨‹

	* `p2.money=100;`å…ˆæ£€æŸ¥`p2`æ˜¯å¦å·²æœ‰è¯¥å±æ€§ï¼Œè‹¥æœ‰åˆ™æ”¹ï¼Œè‹¥æ— åˆ™æ–°å¢

å¯ä»¥éšæ—¶ç»™åŸå‹å¯¹è±¡åŠ¨æ€æ·»åŠ æ–°çš„å±æ€§å’Œæ–¹æ³•ï¼Œä»è€ŒåŠ¨æ€åœ°æ‰©å±•åŸºç±»çš„åŠŸèƒ½ç‰¹æ€§

```javascript
function Person(name){
    this.name = name;
};
Person.prototype.personPrototype=function(){
    alert(this.name);
}
var p1= new Person("p1");
p1.personPrototype();

//å»ºç«‹å¯¹è±¡åå†åŠ¨æ€æ‰©å±•åŸå‹çš„æ–¹æ³•
Person.prototype.Retire = function()    {
    alert("è°ƒç”¨Retireæ–¹æ³•ï¼š" + this.name );
};
//åŠ¨æ€æ‰©å±•çš„æ–¹æ³•å³å¯è¢«å…ˆå‰å»ºç«‹çš„å¯¹è±¡ç«‹å³è°ƒç”¨
p1.Retire(); 
```

## åäºŒã€JavaScriptå¸¸ç”¨å¯¹è±¡

ä»¥ä¸‹åªå±•ç¤ºå¸¸ç”¨çš„éƒ¨åˆ†å¯¹è±¡ï¼Œæ›´å¤šè¯·å‚è€ƒ[å®˜æ–¹](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects)

### 1.Objectå¯¹è±¡

Objectå¯¹è±¡çš„å±æ€§åŒ…æ‹¬`constructor`ç”¨äºè¯¥å¯¹è±¡å‡½æ•°åœ°å€ã€`prototype`ç”¨äºè¯¥å¯¹è±¡åŸå‹å¼•ç”¨

Objectå¯¹è±¡çš„å‡½æ•°åŒ…æ‹¬`toString()`ã€`valueOf()`ã€`hasOwnProperty("å±æ€§å")`åˆ¤æ–­æ˜¯å¦æœ‰æŸä¸ªç‰¹å®šçš„å±æ€§ç­‰ç­‰

### 2.Functionå¯¹è±¡

Functionæ˜¯å…¨å±€å¯¹è±¡ï¼Œåˆ›å»ºFunction()æ„é€ å™¨ä½¿ç”¨çš„æ˜¯å…¨å±€ä½œç”¨åŸŸ

```javascript
var x='global';
function ctor(){
    x='local';
    return new Function("return x;");
}
alert(ctor()())://è¿™é‡Œè¾“å‡ºçš„æ˜¯global;
```

### 3.Arrayå¯¹è±¡

æ•°ç»„çš„å­˜å‚¨æ€§èƒ½æ¯”æ™®é€šå¯¹è±¡è¦å¥½ï¼Œ**JavaScriptä¸­æ˜¯æ”¯æŒæ•°ç»„å¯ä»¥æ˜¯ä¸åŒçš„å…ƒç´ **ï¼Œè¿™è·ŸJavaScriptçš„å¼±ç±»å‹æœ‰å…³ï¼Œæ­¤å¤„ä¸ç”¨çº ç»“ï¼Œæˆ‘ä»¬å¤§å¤šæ•°æ—¶å€™éƒ½æ˜¯ç›¸åŒç±»å‹å…ƒç´ çš„é›†åˆ

æ•°ç»„å†…çš„å„ä¸ªå€¼è¢«ç§°ä½œå…ƒç´ ï¼Œæ¯ä¸€ä¸ªå…ƒç´ éƒ½å¯ä»¥é€šè¿‡ç´¢å¼•(ä¸‹æ ‡)æ¥å¿«é€Ÿè¯»å–ï¼Œç´¢å¼•æ˜¯ä»é›¶å¼€å§‹çš„æ•´æ•°

> ä½¿ç”¨`typeof`æ£€æŸ¥ä¸€ä¸ªæ•°ç»„å¯¹è±¡æ—¶ï¼Œä¼šè¿”å›`object`

#### 3.1.æ•°ç»„åˆ›å»º

åˆ›å»ºæ•°ç»„çš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œå³**ä½¿ç”¨å¯¹è±¡åˆ›å»º**å’Œ**ä½¿ç”¨å­—é¢é‡åˆ›å»º**

* ä½¿ç”¨å¯¹è±¡åˆ›å»º

```javascript
var arr = new Array();
arr[0] = 1;//æ•°å­—ä¸‹æ ‡
arr["name"] = 2;//æ–‡å­—ä¸‹æ ‡
```

* ä½¿ç”¨å­—é¢é‡åˆ›å»º

```javascript
var arr = [1, 2, 3, 4, 5, 6, 7, 8, 9];
```

#### 3.2.éå†æ•°ç»„

```javascript
for (var i = 0; i < arr.length; i++) {
    console.log(arr[i]);
}
```

#### 3.3.æ•°ç»„å±æ€§

â‘ `constructor`ï¼šè¿”å›åˆ›å»ºæ•°ç»„å¯¹è±¡çš„åŸå‹å‡½æ•°

```javascript
var arr = [1,2,3,4];
console.log(arr.constructor);
```

![image-20201017213941462](assets/980c0ed39d3282e2b8e77253c8bf098b.png)

â‘¡`length`ï¼šè®¾ç½®æˆ–è¿”å›æ•°ç»„å…ƒç´ çš„ä¸ªæ•°

```javascript
var arr = [1,2,3,4];
console.log(arr.length);
```

![image-20201017214117638](assets/d5b5c2bc0e188b9d4feec0c58c69c244.png)

#### 3.4.æ•°ç»„æ–¹æ³•

* `push('XXX')`ï¼šæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ åˆ°æ•°ç»„å°¾éƒ¨ï¼Œå¹¶è¿”å›æ–°æ•°ç»„é•¿åº¦
* `pop()`ï¼šåˆ é™¤æ•°ç»„æœ«å°¾å…ƒç´ ï¼Œå¹¶è¿”å›è¢«åˆ é™¤çš„å…ƒç´ 
* `shift()`ï¼šåˆ é™¤æ•°ç»„å¤´éƒ¨å…ƒç´ ï¼Œå¹¶è¿”å›è¢«åˆ é™¤çš„å…ƒç´ 
* `unshift('XXX')`ï¼šæ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ åˆ°æ•°ç»„å¤´éƒ¨ï¼Œå¹¶è¿”å›æ–°æ•°ç»„é•¿åº¦
* `forEach(å›è°ƒå‡½æ•°)`ï¼šéå†æ•°ç»„ï¼Œæ•°ç»„ä¸­æœ‰å‡ ä¸ªå…ƒç´ å°±ä¼šæ‰§è¡Œå‡ æ¬¡å›è°ƒå‡½æ•°ï¼Œæµè§ˆå™¨ä¼šåœ¨å›åˆ°å‡½æ•°ä¸­ä¼ é€’ä¸‰ä¸ªå‚æ•°ï¼Œå³å½“å‰æ­£åœ¨éå†çš„å…ƒç´ ã€å½“å‰æ­£åœ¨éå†çš„å…ƒç´ ç´¢å¼•ã€å½“å‰æ­£åœ¨éå†çš„æ•°ç»„

```javascript
var arr = ["å­™æ‚Ÿç©º", "çŒªå…«æˆ’", "æ²™å’Œå°š"];
arr.forEach(function (value, index, obj) {
    console.log(value + " #### " + index + " #### " + obj);
});
```

![image-20201017220618530](assets/23e5a69cb38d91535b27ab372e689258.png)

> ç”±æˆ‘ä»¬åˆ›å»ºä½†æ˜¯ä¸ç”±æˆ‘ä»¬è°ƒç”¨çš„å‡½æ•°ç§°ä¸ºå›è°ƒå‡½æ•°

* `slice()`ï¼šä»æ•°ç»„æå–æŒ‡å®šå…ƒç´ ï¼Œè¯¥æ–¹æ³•ä¸ä¼šæ”¹å˜å…ƒç´ æ•°ç»„ï¼Œè€Œæ˜¯å°†æˆªå–åˆ°çš„å…ƒç´ å°è£…åˆ°ä¸€ä¸ªæ–°æ•°ç»„ä¸­è¿”å›ï¼Œä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œå³æˆªå–å¼€å§‹ä½ç½®ç´¢å¼•(åŒ…å«)ã€æˆªå–ç»“æŸä½ç½®ç´¢å¼•(ä¸åŒ…å«ï¼Œå¯çœç•¥)ï¼Œ**ç´¢å¼•å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œè¡¨ç¤ºä»åå¾€å‰è®¡ç®—ï¼Œ`-1`è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ª**

```javascript
var arr = ["å­™æ‚Ÿç©º", "çŒªå…«æˆ’", "æ²™å’Œå°š", "å”åƒ§", "ç™½éª¨ç²¾"];
var result = arr.slice(1, 4);
console.log(result);
result = arr.slice(3);
console.log(result);
result = arr.slice(1, -2);
console.log(result);
```

![image-20201018090855439](assets/18ad817362706339461665656b5b81bd.png)

* `splice(å¼€å§‹ä½ç½®ç´¢å¼•ï¼Œåˆ é™¤å…ƒç´ æ•°é‡ï¼Œå‚æ•°ä¸‰)`ï¼šåˆ é™¤æ•°ç»„ä¸­çš„æŒ‡å®šå…ƒç´ ï¼Œè¯¥æ–¹æ³•ä¼šå½±å“åˆ°åŸæ•°ç»„ï¼Œè¢«åˆ é™¤çš„å…ƒç´ ä½œä¸ºè¿”å›å€¼è¿”å›ï¼Œå‚æ•°ä¸‰ä¼šè‡ªåŠ¨æ’å…¥åˆ°å¼€å§‹ç´¢å¼•å‰

```javascript
var arr = ["å­™æ‚Ÿç©º", "çŒªå…«æˆ’", "æ²™å’Œå°š", "å”åƒ§", "ç™½éª¨ç²¾"];
var result = arr.splice(3, 2);
console.log(arr);
console.log(result);
result = arr.splice(1, 0, "ç‰›é­”ç‹", "é“æ‰‡å…¬ä¸»", "çº¢å­©å„¿");
console.log(arr);
console.log(result);
```

![image-20201018091447071](assets/45074ba5bb641f6dc53536e6471f1fd2.png)

* `concat()`ï¼šè¿æ¥ä¸¤ä¸ªæˆ–å¤šä¸ªæ•°ç»„ï¼Œå¹¶å°†æ–°çš„æ•°ç»„è¿”å›ï¼Œè¯¥æ–¹æ³•ä¸ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“

```javascript
var arr = ["å­™æ‚Ÿç©º", "çŒªå…«æˆ’", "æ²™å’Œå°š"];
var arr2 = ["ç™½éª¨ç²¾", "ç‰å…”ç²¾", "èœ˜è››ç²¾"];
var arr3 = ["äºŒéƒç¥", "å¤ªä¸Šè€å›", "ç‰çš‡å¤§å¸"];
var result = arr.concat(arr2, arr3, "ç‰›é­”ç‹", "é“æ‰‡å…¬ä¸»");
console.log(result);
```

![image-20201018122134527](assets/12c0858ad255003ba9ddd66ebb9a0df2.png)

* `join(è¿æ¥ç¬¦å­—ç¬¦ä¸²)`ï¼šå°†æ•°ç»„è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¯¥æ–¹æ³•ä¸ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“ï¼Œè‹¥ä¸ä¼ å‚é»˜è®¤ä½¿ç”¨`,`ä½œä¸ºè¿æ¥ç¬¦

```javascript
var arr = ["å­™æ‚Ÿç©º", "çŒªå…«æˆ’", "æ²™å’Œå°š"];
var result = arr.join("@-@");
console.log(result);
```

![image-20201018122403396](assets/891029712402377b772676696ae3ec72.png)

* `reverse()`ï¼šåè½¬æ•°ç»„ï¼Œè¯¥æ–¹æ³•ä¼šç›´æ¥ä¿®æ”¹åŸæ•°ç»„

```javascript
var arr = ["å­™æ‚Ÿç©º", "çŒªå…«æˆ’", "æ²™å’Œå°š"];
arr.reverse();
console.log(arr);
```

![image-20201018122520134](assets/e7a4076da2a80e71ea4ce4c6e5010656.png)

* `sort()`ï¼šå¯¹æ•°ç»„ä¸­çš„å…ƒç´ è¿›è¡Œæ’åºï¼Œä¹Ÿä¼šå½±å“åŸæ•°ç»„ï¼Œé»˜è®¤ä¼šæŒ‰ç…§Unicodeç¼–ç è¿›è¡Œæ’åºï¼Œæ‰€ä»¥å¯¹äºçº¯æ•°å­—æ’åºå¯èƒ½ä¼šé‡åˆ°é”™è¯¯ï¼Œå¯é€šè¿‡å›è°ƒå‡½æ•°è‡ªå®šä¹‰æ’åºè§„åˆ™

```javascript
var arr = ["b", "c", "a"];
arr.sort();
console.log(arr);//["a", "b", "c"]

var arr = [1, 3, 2, 11, 5, 6];
arr.sort();
console.log(arr);//[1, 11, 2, 3, 5, 6]

var arr = [1, 3, 2, 11, 5, 6];
arr.sort(function (a, b) {
    return a - b;//å‡åºï¼Œè‹¥è¦é™åºåˆ™è¿”å›b - a
});
console.log(arr);//[1, 2, 3, 5, 6, 11]
```

### 4.argumentså‚æ•°

åœ¨è°ƒç”¨å‡½æ•°æ—¶æµè§ˆå™¨æ¯æ¬¡éƒ½ä¼šä¼ é€’è¿›ä¸¤ä¸ªéšå«çš„å‚æ•°ï¼Œå³ä¸Šä¸‹æ–‡å¯¹è±¡`this`ã€å®å‚å¯¹è±¡`arguments`ï¼Œ`this`ã€`call()`ã€`apply()`åœ¨å‰é¢å·²ç»å­¦ä¹ è¿‡

`arguments`æ˜¯ç”¨äº**è®°å½•å‚æ•°çš„æ•°ç»„**ï¼Œ**åœ¨è°ƒç”¨å‡½æ•°æ—¶ï¼Œè¢«ä¼ é€’çš„å®å‚éƒ½åœ¨`arguments`ä¸­ä¿å­˜**

`arguments.length`å¯ä»¥ç”¨æ¥è·å–å®å‚çš„é•¿åº¦ï¼Œè€Œ`length`è¡¨ç¤ºå½¢å‚ä¸ªæ•°

`callee`å±æ€§å°±æ˜¯å½“å‰æ­£åœ¨æŒ‡å‘çš„å‡½æ•°çš„å¯¹è±¡

```javascript
function fun(a, b) {
    // é€šè¿‡ä¸‹æ ‡è·å–ç¬¬ä¸€ä¸ªå‚æ•°
    console.log(arguments[0]);
    // é€šè¿‡ä¸‹æ ‡è·å–ç¬¬äºŒä¸ªå‚æ•°
    console.log(arguments[1]);
    // è·å–å®å‚çš„ä¸ªæ•°
    console.log(arguments.length);
    // çœ‹çœ‹å®ƒçš„å‡½æ•°å¯¹è±¡
    console.log(arguments.callee);
    console.log(arguments.callee == fun);
}

fun("Hello", "World");
```

![image-20201018125309350](assets/3b55a97ff8f86bdbea0bae14b0298a06.png)

`arguments`å¯ç”¨äºçµæ´»çš„å‚æ•°æ±‚å’Œ

```javascript
function add(){
	switch(arguments.length){
		case 0:alert("æ²¡æœ‰å‚æ•°");break;
		case 1:return  arguments[0];
		default:
			var total=0;
			for (var i=0;i<arguments.length;i++) {
				total+=parseInt(arguments[i]);//æ±‚å’Œ
			}
			return total;
	}
}

add(1,2,3);//6
```

### 5.Dateå¯¹è±¡

Dateå¯¹è±¡æ¥è¡¨ç¤ºä¸€ä¸ªæ—¶é—´ï¼Œå¦‚æœç›´æ¥ä½¿ç”¨æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªDateå¯¹è±¡ï¼Œåˆ™ä¼šå°è£…ä¸ºå½“å‰ä»£ç æ‰§è¡Œçš„æ—¶é—´

```javascript
var date = new Date();
console.log(date);

console.log(date.getFullYear());//è·å–å½“å‰æ—¥æœŸå¯¹è±¡çš„å¹´ä»½(å››ä½æ•°å­—å¹´ä»½)
console.log(date.getMonth());//è·å–å½“å‰æ—¥æœŸå¯¹è±¡çš„æœˆä»½(0 ~ 11)
console.log(date.getDate());//è·å–å½“å‰æ—¥æœŸå¯¹è±¡çš„æ—¥æ•°(1 ~ 31)
console.log(date.getHours());//è·å–å½“å‰æ—¥æœŸå¯¹è±¡çš„å°æ—¶(0 ~ 23)
console.log(date.getMinutes());//è·å–å½“å‰æ—¥æœŸå¯¹è±¡çš„åˆ†é’Ÿ(0 ~ 59)
console.log(date.getSeconds());//è·å–å½“å‰æ—¥æœŸå¯¹è±¡çš„ç§’é’Ÿ(0 ~ 59)
console.log(date.getMilliseconds());//è·å–å½“å‰æ—¥æœŸå¯¹è±¡çš„æ¯«ç§’(0 ~ 999)
//getYear()ã€getDate()æ—¥æœŸæ•°1-31ã€getDay()æ˜ŸæœŸæ•°0-6ã€getTime()æ¯«ç§’å€¼ï¼Œè‡ªèµ·å§‹æ—¶åˆ»å¼€å§‹
```

![image-20201018130252223](assets/ee5fd11e5e77b473d3380597b79a4c29.png)

### 6.Mathå¯¹è±¡

Mathå’Œå…¶å®ƒçš„å¯¹è±¡ä¸åŒï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå®ƒå±äºä¸€ä¸ªå·¥å…·ç±»ä¸ç”¨åˆ›å»ºå¯¹è±¡ï¼Œå®ƒé‡Œè¾¹å°è£…äº†æ•°å­¦è¿ç®—ç›¸å…³çš„å±æ€§å’Œæ–¹æ³•

```javascript
/*å›ºå®šå€¼*/
console.log("PI = " + Math.PI);
console.log("E  = " + Math.E);
console.log("===============");

/*æ­£æ•°*/
console.log(Math.abs(1));        //å¯ä»¥ç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼
console.log(Math.ceil(1.1));     //å¯ä»¥å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå‘ä¸Šå–æ•´ï¼Œå°æ•°ä½åªæœ‰æœ‰å€¼å°±è‡ªåŠ¨è¿›1
console.log(Math.floor(1.99));   //å¯ä»¥å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå‘ä¸‹å–æ•´ï¼Œå°æ•°éƒ¨åˆ†ä¼šè¢«èˆæ‰
console.log(Math.round(1.4));    //å¯ä»¥å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå››èˆäº”å…¥å–æ•´
console.log("===============");

/*è´Ÿæ•°*/
console.log(Math.abs(-1));       //å¯ä»¥ç”¨æ¥è®¡ç®—ä¸€ä¸ªæ•°çš„ç»å¯¹å€¼
console.log(Math.ceil(-1.1));    //å¯ä»¥å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå‘ä¸Šå–æ•´ï¼Œå°æ•°éƒ¨åˆ†ä¼šè¢«èˆæ‰
console.log(Math.floor(-1.99));  //å¯ä»¥å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå‘ä¸‹å–æ•´ï¼Œå°æ•°ä½åªæœ‰æœ‰å€¼å°±è‡ªåŠ¨è¿›1
console.log(Math.round(-1.4));   //å¯ä»¥å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå››èˆäº”å…¥å–æ•´
console.log("===============");

/*éšæœºæ•°*/
//Math.random()ï¼šå¯ä»¥ç”¨æ¥ç”Ÿæˆä¸€ä¸ª0-1ä¹‹é—´çš„éšæœºæ•°
//ç”Ÿæˆä¸€ä¸ª0-xä¹‹é—´çš„éšæœºæ•°ï¼šMath.round(Math.random()*x)
//ç”Ÿæˆä¸€ä¸ªx-yä¹‹é—´çš„éšæœºæ•°ï¼šMath.round(Math.random()*(y-x)+x)
console.log(Math.round(Math.random() * 10));            //ç”Ÿæˆä¸€ä¸ª0-10ä¹‹é—´çš„éšæœºæ•°
console.log(Math.round(Math.random() * (10 - 1) + 1));  //ç”Ÿæˆä¸€ä¸ª1-10ä¹‹é—´çš„éšæœºæ•°
console.log("===============");

/*æ•°å­¦è¿ç®—*/
console.log(Math.pow(12, 3));   //Math.pow(x,y)ï¼šè¿”å›xçš„yæ¬¡å¹‚
console.log(Math.sqrt(4));      //Math.sqrt(x) ï¼šè¿”å›xçš„å¹³æ–¹æ ¹
```

![image-20201018132005284](assets/e533a1267ab2c8fe8d2497baa2cb23fb.png)

### 7.Stringå¯¹è±¡

JSæ”¯æŒé•¿å­—ç¬¦ä¸²ï¼Œè¯­æ³•æ ¼å¼å¦‚ä¸‹

```
1."aaaaaa"+
  "bbbbbb"
2."aaaaaa\
   bbbbbb"
```



```
==========prototype:ç”¨å¯¹è±¡åè°ƒ
charAt(int):å–intå¤„å­—ç¬¦
charCodeAt(int):å–intå¤„å­—ç¬¦çš„ç¼–ç 
indexof(".."):å–æŒ‡å®šå­—ç¬¦ä½ç½®
lastIndexOf("."):ä»å³å¼€å§‹å–æŒ‡å®šå­—ç¬¦ä½ç½®
replace("a","b"):aå…¨éƒ¨è¢«bæ›¿æ¢
split("."):æ‹†åˆ†ä¸ºæ•°ç»„
substr(start,n):ä»startæˆªå–nä¸ª
sunstring(start,end):æˆªå–startå¼€å§‹åˆ°endç»“æŸçš„å­—ç¬¦ä¸²

```



```
1.åœ¨æµè§ˆå™¨ä¸Šæ–¹æ ‡é¢˜å¤„å®ç°è·‘é©¬ç¯æ•ˆæœ
	var str="* * * æ¬¢ è¿ è¿› å…¥ * * *";
	function run(){
		str=str.substr(1,str.length-1)+str.substr(0,1);
		
		document.title=str;//åœ¨æ ‡é¢˜æ æ˜¾ç¤º
	}
	setInterval("run()",300);//æ¯éš”0.3ç§’è°ƒç”¨ä¸€æ¬¡run()

2.è¯´æ˜é‚®ç®±ç±»å‹
	é‚®ç®±åï¼š<input value="1111@qq.com" type="text" id="email" placeholder="é‚®ç®±" />//placeholderæç¤ºè¯­
	<input type="button" value="ç¡®å®š" onclick="show()" />
	
	<div id="result"></div>
	
	<script>
		function show(){
			var email=document.getElementById("email").value;
			
			//åˆ©ç”¨stringå‡½æ•°å–å„ä¸ªéƒ¨åˆ†
			var atindex = email.indexOf("@");
			var username = email.substr(0,atindex);
			var dotindex = email.indexOf(".");
			var website = email.substring(atindex+1,dotindex);
			var type = email.substring(dotindex+1);
			
			var typestring='';
			if(type=='com'){
				typestring="<span style='color:red'>å•†ä¸šç½‘ç«™</span>"
			}else if(type=='org'){
				typestring="<span style='color:red'>ç»„ç»‡æœºæ„</span>"
			}else if(type=='mil'){
				typestring="<span style='color:red'>å†›é˜Ÿ</span>"
			}
			
			var info="æ¬¢è¿æ‚¨ï¼š"+username+"ï¼Œä½ çš„é‚®ç®±ç”±"+website+"æä¾›ï¼Œä»–æ˜¯ä¸€ä¸ª"+typestring;
			document.getElementById("result").innerHTML=info;
		}
	</script>

3.è¾“å…¥æœç´¢å†…å®¹é«˜äº®æ˜¾ç¤º---æ³¨æ„ä¸‹ä¸€æ¬¡æœç´¢ä¸èƒ½ä»0å¼€å§‹ï¼Œå¦åˆ™ä¸€ç›´æ‰¾ç¬¬ä¸€ä¸ªï¼Œæ³¨æ„å¾ªç¯ä¸­iæ¯æ¬¡çš„å¢é‡
	æå…‹å¼ºä¸»æŒå¬å¼€ç»æµå½¢åŠ¿ä¸“å®¶å’Œä¼ä¸šå®¶åº§è°ˆä¼šæå…‹å¼º:å›´ç»•å¸‚åœºä¸»ä½“æœ‰æ•ˆå®æ–½å®è§‚æ”¿ç­– æ¨è¿›æ”¹é©å¼€æ”¾ ä¿æŒç»æµå¹³ç¨³è¿è¡Œ é‡è¦æ´»åŠ¨ ä¼šè®®æ´»åŠ¨è€ƒå¯Ÿè°ƒç ”æ¥è§ä¼šè§è®²è¯å…¨æ–‡è‡´ç”µè‡´ä¿¡æ‰¹ç¤ºå‡ºè®¿å›½åŠ¡é™¢ä»¤å…¶ä»–
	<br />
	<input type="text" id="keyword" value="æå…‹å¼º" />
	<input type="button" value="æœç´¢" onclick="search()" />
	<div id="result"></div>
	
	<script>
		var str="æå…‹å¼ºä¸»æŒå¬å¼€ç»æµå½¢åŠ¿ä¸“å®¶å’Œä¼ä¸šå®¶åº§è°ˆä¼šæå…‹å¼º:å›´ç»•å¸‚åœºä¸»ä½“æœ‰æ•ˆå®æ–½å®è§‚æ”¿ç­– æ¨è¿›æ”¹é©å¼€æ”¾ ä¿æŒç»æµå¹³ç¨³è¿è¡Œ é‡è¦æ´»åŠ¨ ä¼šè®®æ´»åŠ¨è€ƒå¯Ÿè°ƒç ”æ¥è§ä¼šè§è®²è¯å…¨æ–‡è‡´ç”µè‡´ä¿¡æ‰¹ç¤ºå‡ºè®¿å›½åŠ¡é™¢ä»¤å…¶ä»–";
		function search(){
			var keyword = document.getElementById("keyword").value;//æå…‹å¼º
			var length = keyword.length;//3
			var finalstr="";//æ‹¼æ¥æ–‡æœ¬
			var index=0;//ç¬¬äºŒæ¬¡æœç´¢ä»ä¸Šä¸€æ¬¡æœç´¢çš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹
			for(var i=0;i<str.length;i=index+length){
				//i:0 3 23
				index =str.indexOf(keyword,i);//0  20
				console.log(index);
				if(index==-1){
					finalstr+=str.substring(i,str.length);
					break;
				}
				
				finalstr+=str.substring(i,index);//(0,0)
				finalstr+="<span style='color:red'>";
				finalstr+=keyword;
				finalstr+="</span>";
			}
			//é‡æ–°æ‹¼æ¥ä¸€æ¬¡strï¼Œé‡æ–°æ¸²æŸ“str
			document.getElementById("result").innerHTML=finalstr;
		}
	</script>

```



```

4.ç»„æˆéƒ¨åˆ†
ECMAScriptï¼šæ ¸å¿ƒè¯­è¨€å¯¹è±¡ï¼ˆæœ€åº•å±‚ï¼‰
DOMï¼šæ–‡æ¡£å¯¹è±¡æ¨¡å‹
BOMï¼šæµè§ˆå™¨å¯¹è±¡æ¨¡å‹

Global
è§£å†³åœ°å€æ ç¼–ç çº§çš„é—®é¢˜

1.ç¼–ç 
	encodeURL():å°†æ–‡æœ¬å­—ç¬¦ä¸²ç¼–ç ä¸ºä¸€ä¸ªæœ‰æ•ˆåœ°ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦
	encodeURLComponent():å°†æ–‡æœ¬å­—ç¬¦ä¸²ç¼–ç ä¸ºä¸€ä¸ªæœ‰æ•ˆåœ°ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦çš„ä¸€ä¸ªæœ‰æ•ˆç»„ä»¶
2.è§£ç 
	decodeURL():è¿”å›ä¸€ä¸ªä»¥ç¼–ç çš„ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦çš„éç¼–ç å½¢å¼
	decodeURLComponent():è¿”å›ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦çš„ä¸€ä¸ªä»¥ç¼–ç ç»„ä»¶çš„éç¼–ç å½¢å¼


```





















